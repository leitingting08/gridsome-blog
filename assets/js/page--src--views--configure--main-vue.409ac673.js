(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{"52Kp":function(e,t,r){"use strict";r.r(t),r.d(t,"version",(function(){return n})),r.d(t,"VERSION",(function(){return o})),r.d(t,"atob",(function(){return O})),r.d(t,"atobPolyfill",(function(){return F})),r.d(t,"btoa",(function(){return y})),r.d(t,"btoaPolyfill",(function(){return h})),r.d(t,"fromBase64",(function(){return L})),r.d(t,"toBase64",(function(){return k})),r.d(t,"utob",(function(){return A})),r.d(t,"encode",(function(){return k})),r.d(t,"encodeURI",(function(){return w})),r.d(t,"encodeURL",(function(){return w})),r.d(t,"btou",(function(){return $})),r.d(t,"decode",(function(){return L})),r.d(t,"isValid",(function(){return N})),r.d(t,"fromUint8Array",(function(){return v})),r.d(t,"toUint8Array",(function(){return D})),r.d(t,"extendString",(function(){return I})),r.d(t,"extendUint8Array",(function(){return J})),r.d(t,"extendBuiltins",(function(){return P})),r.d(t,"Base64",(function(){return z}));const n="3.6.0",o=n,i="function"==typeof atob,a="function"==typeof btoa,c="function"==typeof Buffer,l="function"==typeof TextDecoder?new TextDecoder:void 0,u="function"==typeof TextEncoder?new TextEncoder:void 0,s=[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="],f=(e=>{let t={};return e.forEach((e,r)=>t[e]=r),t})(s),d=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,g=String.fromCharCode.bind(String),b="function"==typeof Uint8Array.from?Uint8Array.from.bind(Uint8Array):(e,t=(e=>e))=>new Uint8Array(Array.prototype.slice.call(e,0).map(t)),p=e=>e.replace(/[+\/]/g,e=>"+"==e?"-":"_").replace(/=+$/m,""),m=e=>e.replace(/[^A-Za-z0-9\+\/]/g,""),h=e=>{let t,r,n,o,i="";const a=e.length%3;for(let a=0;a<e.length;){if((r=e.charCodeAt(a++))>255||(n=e.charCodeAt(a++))>255||(o=e.charCodeAt(a++))>255)throw new TypeError("invalid character found");t=r<<16|n<<8|o,i+=s[t>>18&63]+s[t>>12&63]+s[t>>6&63]+s[63&t]}return a?i.slice(0,a-3)+"===".substring(a):i},y=a?e=>btoa(e):c?e=>Buffer.from(e,"binary").toString("base64"):h,x=c?e=>Buffer.from(e).toString("base64"):e=>{let t=[];for(let r=0,n=e.length;r<n;r+=4096)t.push(g.apply(null,e.subarray(r,r+4096)));return y(t.join(""))},v=(e,t=!1)=>t?p(x(e)):x(e),S=e=>{if(e.length<2)return(t=e.charCodeAt(0))<128?e:t<2048?g(192|t>>>6)+g(128|63&t):g(224|t>>>12&15)+g(128|t>>>6&63)+g(128|63&t);var t=65536+1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320);return g(240|t>>>18&7)+g(128|t>>>12&63)+g(128|t>>>6&63)+g(128|63&t)},C=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,A=e=>e.replace(C,S),B=c?e=>Buffer.from(e,"utf8").toString("base64"):u?e=>x(u.encode(e)):e=>y(A(e)),k=(e,t=!1)=>t?p(B(e)):B(e),w=e=>k(e,!0),U=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,T=e=>{switch(e.length){case 4:var t=((7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3))-65536;return g(55296+(t>>>10))+g(56320+(1023&t));case 3:return g((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return g((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},$=e=>e.replace(U,T),F=e=>{if(e=e.replace(/\s+/g,""),!d.test(e))throw new TypeError("malformed base64.");e+="==".slice(2-(3&e.length));let t,r,n,o="";for(let i=0;i<e.length;)t=f[e.charAt(i++)]<<18|f[e.charAt(i++)]<<12|(r=f[e.charAt(i++)])<<6|(n=f[e.charAt(i++)]),o+=64===r?g(t>>16&255):64===n?g(t>>16&255,t>>8&255):g(t>>16&255,t>>8&255,255&t);return o},O=i?e=>atob(m(e)):c?e=>Buffer.from(e,"base64").toString("binary"):F,R=c?e=>b(Buffer.from(e,"base64")):e=>b(O(e),e=>e.charCodeAt(0)),D=e=>R(j(e)),E=c?e=>Buffer.from(e,"base64").toString("utf8"):l?e=>l.decode(R(e)):e=>$(O(e)),j=e=>m(e.replace(/[-_]/g,e=>"-"==e?"+":"/")),L=e=>E(j(e)),N=e=>{if("string"!=typeof e)return!1;const t=e.replace(/\s+/g,"").replace(/=+$/,"");return!/[^\s0-9a-zA-Z\+/]/.test(t)||!/[^\s0-9a-zA-Z\-_]/.test(t)},_=e=>({value:e,enumerable:!1,writable:!0,configurable:!0}),I=function(){const e=(e,t)=>Object.defineProperty(String.prototype,e,_(t));e("fromBase64",(function(){return L(this)})),e("toBase64",(function(e){return k(this,e)})),e("toBase64URI",(function(){return k(this,!0)})),e("toBase64URL",(function(){return k(this,!0)})),e("toUint8Array",(function(){return D(this)}))},J=function(){const e=(e,t)=>Object.defineProperty(Uint8Array.prototype,e,_(t));e("toBase64",(function(e){return v(this,e)})),e("toBase64URI",(function(){return v(this,!0)})),e("toBase64URL",(function(){return v(this,!0)}))},P=()=>{I(),J()},z={version:n,VERSION:o,atob:O,atobPolyfill:F,btoa:y,btoaPolyfill:h,fromBase64:L,toBase64:k,encode:k,encodeURI:w,encodeURL:w,utob:A,btou:$,decode:L,isValid:N,fromUint8Array:v,toUint8Array:D,extendString:I,extendUint8Array:J,extendBuiltins:P}},JNL0:function(e,t,r){"use strict";r("ma9I"),r("07d7");var n=r("t3Un"),o=r("Q2AE"),i=o.a.state.configuration.githubUsername;t.a={getBlogReadme:function(){return Object(n.a)({url:"/repos/".concat(i,"/gridsome-blog/contents/README.md")})},getBlogConfigure:function(){return Object(n.a)({url:"/repos/".concat(i,"/gridsome-blog/contents/static/configuration.json")})},editBlogConfigure:function(e,t){var o=JSON.stringify(e);return Object(n.a)({url:"/repos/".concat(i,"/gridsome-blog/contents/static/configuration.json"),method:"PUT",data:{message:"a",content:r("52Kp").Base64.encode(o),sha:t}})},list:function(e){var t=o.a.state.configuration.githubUsername;return Object(n.a)({url:"/users/".concat(t,"/repos?page=").concat(e.page,"&per_page=").concat(e.pageSize)})},single:function(e){var t=o.a.state.configuration.githubUsername;return new Promise((function(r,o){Object(n.a)({url:"/repos/"+t+"/"+e}).then((function(o){Object(n.a)({url:"/repos/"+t+"/"+e+"/contents/README.md"}).then((function(e){o.data.readme_content=e.data.content,r(o)})).catch((function(){o.data.readme_content="",r(o)}))}))}))}}},NwtF:function(e,t,r){"use strict";r.r(t);r("pDQq");var n=r("VTBJ"),o=r("rePB"),i=r("L2JU"),a=r("JNL0"),c={data:function(){return{activeTab:"base",loading:!1,configureSha:null,configure:{webSites:[]},initConfigure:{},rules:Object(o.a)({githubUsername:[{required:!0,message:"请输入用户名",trigger:"blur"}],blogTitle:[]},"blogTitle",[]),submitButton:{loading:!1,disabled:!1},predefineColors:["#ff4500","#ff8c00","#ffd700","#CCFC2D","#90ee90","#2DFCA6","#00ced1","#1e90ff","#c71585","#FC2DEB"]}},computed:Object(n.a)({},Object(i.b)(["token"])),mounted:function(){var e=this;this.token?(this.loading=!0,a.a.getBlogConfigure().then((function(t){var n=t.data,o=r("52Kp").Base64.decode(n.content);e.configure=JSON.parse(o),e.configure.webSites||e.$set(e.configure,"webSites",[]),e.initConfigure=JSON.parse(JSON.stringify(e.configure)),e.configureSha=n.sha})).then((function(){return e.loading=!1}))):this.$nextTick((function(){e.$message({message:"权限不足",type:"error"}),e.$router.go(-1)}))},methods:{submit:function(){var e=this;this.$refs.configureForm.validate((function(t){t&&(e.submitButton.loading=!0,e.submitButton.disabled=!0,a.a.editBlogConfigure(e.configure,e.configureSha).then((function(t){var r=t.data;e.configureSha=r.content.sha,e.initConfigure=JSON.parse(JSON.stringify(e.configure)),e.$store.dispatch("LocalReload",e.configure),e.$notify({title:"成功",message:"修改配置成功",type:"success"})})).then((function(){e.submitButton.loading=!1,e.submitButton.disabled=!1})))}))},reset:function(){this.configure=JSON.parse(JSON.stringify(this.initConfigure))},addWebSites:function(){this.configure.webSites.length>=5?this.$message("站点太多显示效果不好"):this.configure.webSites.push({})},removeWebSites:function(e){this.configure.webSites.splice(e,1)}}},l=r("7uw+"),u=Object(l.a)(c,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("Layout",[r("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{"min-height":"800px"}},[r("el-card",{staticStyle:{"min-height":"400px","margin-bottom":"20px"},attrs:{shadow:"never"}},[r("el-form",{ref:"configureForm",attrs:{model:e.configure,rules:e.rules,"label-width":"100px"}},[r("el-tabs",{attrs:{type:"card"},model:{value:e.activeTab,callback:function(t){e.activeTab=t},expression:"activeTab"}},[r("el-tab-pane",{staticStyle:{padding:"5px"},attrs:{label:"基础配置",name:"base"}},[r("el-form-item",{attrs:{label:"用户名",prop:"githubUsername"}},[r("el-input",{attrs:{disabled:""},model:{value:e.configure.githubUsername,callback:function(t){e.$set(e.configure,"githubUsername",t)},expression:"configure.githubUsername"}})],1),r("el-form-item",{attrs:{label:"博客标题",prop:"blogTitle"}},[r("el-input",{attrs:{placeholder:e.configure.githubUsername},model:{value:e.configure.blogTitle,callback:function(t){e.$set(e.configure,"blogTitle",t)},expression:"configure.blogTitle"}})],1),r("el-form-item",{attrs:{label:"博客描述",prop:"blogDescribe"}},[r("el-input",{attrs:{placeholder:"欢迎来到"+e.configure.githubUsername+"的个人博客。"},model:{value:e.configure.blogDescribe,callback:function(t){e.$set(e.configure,"blogDescribe",t)},expression:"configure.blogDescribe"}})],1),r("el-form-item",{attrs:{label:"页面标题",prop:"htmlTitle"}},[r("el-input",{attrs:{placeholder:e.configure.githubUsername+"的博客"},model:{value:e.configure.htmlTitle,callback:function(t){e.$set(e.configure,"htmlTitle",t)},expression:"configure.htmlTitle"}})],1),r("el-form-item",{attrs:{label:"音乐链接",prop:"audioUrl"}},[r("el-input",{attrs:{placeholder:"背景音乐链接"},model:{value:e.configure.audioUrl,callback:function(t){e.$set(e.configure,"audioUrl",t)},expression:"configure.audioUrl"}})],1),r("el-form-item",{attrs:{label:"自动播放"}},[r("el-switch",{model:{value:e.configure.audioAutoPlay,callback:function(t){e.$set(e.configure,"audioAutoPlay",t)},expression:"configure.audioAutoPlay"}})],1),r("el-form-item",{attrs:{label:"极简模式"}},[r("el-switch",{model:{value:e.configure.mini,callback:function(t){e.$set(e.configure,"mini",t)},expression:"configure.mini"}})],1),r("el-form-item",{attrs:{label:"使用背景图"}},[r("el-switch",{model:{value:e.configure.useBackgroundImage,callback:function(t){e.$set(e.configure,"useBackgroundImage",t)},expression:"configure.useBackgroundImage"}})],1),r("el-form-item",{attrs:{label:"文字颜色"}},[r("el-color-picker",{model:{value:e.configure.fontColor,callback:function(t){e.$set(e.configure,"fontColor",t)},expression:"configure.fontColor"}})],1),e.configure.useBackgroundImage?e._e():r("div",[r("el-row",[r("el-col",{attrs:{span:3}},[r("el-form-item",{attrs:{label:"背景颜色"}},[r("el-color-picker",{attrs:{predefine:e.predefineColors},model:{value:e.configure.backgroundColorLeft,callback:function(t){e.$set(e.configure,"backgroundColorLeft",t)},expression:"configure.backgroundColorLeft"}})],1)],1),r("el-col",{attrs:{span:21}},[r("el-form-item",[r("el-color-picker",{attrs:{predefine:e.predefineColors},model:{value:e.configure.backgroundColorRight,callback:function(t){e.$set(e.configure,"backgroundColorRight",t)},expression:"configure.backgroundColorRight"}})],1)],1)],1),r("el-form-item",{attrs:{label:"效果",prop:"htmlTitle"}},[r("div",{style:"background-image: linear-gradient(120deg, "+e.configure.backgroundColorLeft+", "+e.configure.backgroundColorRight+");border-radius: 5px;border: 1px solid #F2F6FC;width:300px;height:100px;"},[r("div",{style:"color: "+e.configure.fontColor+";text-align: center;padding-top:25px;font-size:35px"},[r("b",[e._v("标题")])])])])],1),e.configure.useBackgroundImage?r("div",[r("el-form-item",{attrs:{label:"背景图片"}},[r("el-upload",{attrs:{action:"","auto-upload":!1,drag:""}},[r("i",{staticClass:"el-icon-upload"}),r("div",[e._v("将文件拖到此处 (暂不支持上传图片)")])])],1)],1):e._e()],1),r("el-tab-pane",{staticStyle:{padding:"5px"},attrs:{label:"扩展配置",name:"extend"}},[r("el-form-item",{attrs:{label:"其他网站"}},[e._l(e.configure.webSites,(function(t,n){return r("el-row",{key:"webSites"+n,staticStyle:{"margin-bottom":"10px"}},[r("el-col",{staticStyle:{"padding-right":"10px"},attrs:{span:8}},[r("el-input",{attrs:{placeholder:"网站名字 例如: V2EX"},model:{value:e.configure.webSites[n].name,callback:function(t){e.$set(e.configure.webSites[n],"name",t)},expression:"configure.webSites[index].name"}})],1),r("el-col",{staticStyle:{"padding-right":"10px"},attrs:{span:14}},[r("el-input",{attrs:{placeholder:"完整URL 例如: https://..."},model:{value:t.url,callback:function(r){e.$set(t,"url",r)},expression:"item.url"}})],1),r("el-col",{attrs:{span:2}},[r("el-button",{staticStyle:{float:"right"},attrs:{icon:"el-icon-delete",type:"danger",circle:""},on:{click:function(t){return e.removeWebSites(n)}}})],1)],1)})),r("el-button",{staticStyle:{float:"right"},attrs:{icon:"el-icon-plus",type:"success",circle:""},on:{click:e.addWebSites}})],2)],1)],1),r("el-form-item",[r("el-button",{attrs:{loading:e.submitButton.loading,disabled:e.submitButton.disabled,type:"primary"},on:{click:e.submit}},[e._v("修改配置")]),r("el-button",{on:{click:e.reset}},[e._v("还原")]),r("el-popover",{attrs:{placement:"top-end",width:"200",trigger:"click",content:"打开极简模式将隐藏部分不主要的菜单, 音乐链接需要是媒体 (不可以是HTML页面)"}},[r("el-button",{staticStyle:{float:"right"},attrs:{slot:"reference",icon:"el-icon-question",type:"text"},slot:"reference"},[e._v("说明")])],1)],1)],1)],1)],1)])}),[],!1,null,null,null);t.default=u.exports},pDQq:function(e,t,r){"use strict";var n=r("I+eb"),o=r("I8vh"),i=r("ppGB"),a=r("UMSQ"),c=r("ewvW"),l=r("ZfDv"),u=r("hBjN"),s=r("Hd5f"),f=r("rkAj"),d=s("splice"),g=f("splice",{ACCESSORS:!0,0:0,1:2}),b=Math.max,p=Math.min;n({target:"Array",proto:!0,forced:!d||!g},{splice:function(e,t){var r,n,s,f,d,g,m=c(this),h=a(m.length),y=o(e,h),x=arguments.length;if(0===x?r=n=0:1===x?(r=0,n=h-y):(r=x-2,n=p(b(i(t),0),h-y)),h+r-n>9007199254740991)throw TypeError("Maximum allowed length exceeded");for(s=l(m,n),f=0;f<n;f++)(d=y+f)in m&&u(s,f,m[d]);if(s.length=n,r<n){for(f=y;f<h-n;f++)g=f+r,(d=f+n)in m?m[g]=m[d]:delete m[g];for(f=h;f>h-n+r;f--)delete m[f-1]}else if(r>n)for(f=h-n;f>y;f--)g=f+r-1,(d=f+n-1)in m?m[g]=m[d]:delete m[g];for(f=0;f<r;f++)m[f+y]=arguments[f+2];return m.length=h-n+r,s}})}}]);